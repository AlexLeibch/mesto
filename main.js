(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupSelector=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._handleClickClose=this._handleClickClose.bind(this)}var n,r;return n=t,(r=[{key:"open",value:function(){this._popupSelector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupSelector.classList.remove("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleClickClose",value:function(e){e.target===this._popupSelector&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupSelector.querySelector(".popup__button-close").addEventListener("click",(function(){return e.close()})),this._popupSelector.addEventListener("mousedown",(function(t){return e._handleClickClose(t)}))}}])&&e(n.prototype,r),t}();function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(p,e);var t,n,c,l,s=(c=p,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=a(c);if(l){var n=a(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=s.call(this,e))._submitForm=t,n._popupSubmitButton=n._popupSelector.querySelector(".popup__button-save"),n._submitButtonText=n._popupSubmitButton.textContent,n}return t=p,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formPopup=this._popupSelector.querySelectorAll(".popup__field"),this._inputValue={},this._formPopup.forEach((function(t){e._inputValue[t.name]=t.value})),this._inputValue}},{key:"setEventListeners",value:function(){var e=this;o(a(p.prototype),"setEventListeners",this).call(this),this._popupSelector.addEventListener("submit",(function(t){t.preventDefault(),e._submitForm(e._getInputValues())}))}},{key:"close",value:function(){o(a(p.prototype),"close",this).call(this),this._popupSelector.querySelector(".popup__form").reset()}},{key:"renderLoading",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Сохранение...";this._popupSubmitButton.textContent=e?t:this._submitButtonText}}])&&r(t.prototype,n),p}(t);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function u(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,e))._image=r._popupSelector.querySelector(t),r._title=r._popupSelector.querySelector(n),r}return t=u,(n=[{key:"open",value:function(e,t){this._image.alt=e,this._image.src=t,this._title.textContent=e,p(_(u.prototype),"open",this).call(this)}}])&&s(t.prototype,n),u}(t);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"setItem",value:function(e){this._container.prepend(e)}},{key:"renderedItems",value:function(e){var t=this;e.forEach((function(e){return t._renderer(e)}))}},{key:"clear",value:function(){this._container.innerHTML=""}}])&&y(t.prototype,n),e}();function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(t){var n=t.userName,r=t.userDescription,o=t.profileAvatars;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(n),this._userDescription=document.querySelector(r),this._profileAvatars=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,about:this._userDescription.textContent,avatar:this._profileAvatars.src}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.description,r=e.avatar;t&&(this._userName.textContent=t),n&&(this._userDescription.textContent=n),r&&(this._profileAvatars.src=r)}}])&&m(t.prototype,n),e}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t,n,r,o,i){var u=r.handleCardClick,a=r.likeCardClick,c=r.handleCardDelete;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._cardSelector=n,this._handleCardClick=u,this._likeCardClick=a,this._handleCardDelete=c,this._countLikes=t.likes,this._userId=o,this._cardId=i,this._ownerId=t.owner._id}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_like",value:function(){this._element.querySelector(".element__like-button").classList.toggle("element__like-button_active")}},{key:"deleteCard",value:function(){this._element.querySelector(".element__delete-button").closest(".card").remove()}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._imgElement=this._element.querySelector(".element__image"),this._imgElement.src=this._link,this._imgElement.alt=this._name,this._element.querySelector(".element__title").textContent=this._name,this._handleLike=this._element.querySelector(".element__like-button"),this._likes=this._element.querySelector(".element__like-counter"),this._deleteIcon=this._element.querySelector(".element__delete-button"),this._ownerId!==this._userId&&(this._deleteIcon.style.display="none"),this.renderLikes(),this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._handleLike.addEventListener("click",(function(){e._likeCardClick(),e._like()})),this._element.querySelector(".element__delete-button").addEventListener("click",(function(){e._handleCardDelete()})),this._imgElement.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"removeCard",value:function(){this._element.remove()}},{key:"renderLikes",value:function(){this._likes.textContent=this._countLikes.length,this._showLikes(this._userId)}},{key:"getIdCard",value:function(){return this._cardId}},{key:"likedCard",value:function(){var e=this;return this._countLikes.some((function(t){return t._id===e._userId}))}},{key:"_showLikes",value:function(){this.likedCard(this._userId)?this._handleLike.classList.add("element__like-button_active"):this._handleLike.classList.remove("element__like-button_active")}},{key:"setLikes",value:function(e){this._countLikes=e}}])&&k(t.prototype,n),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._validationConfig=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._validationConfig.inputSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._validationConfig.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._validationConfig.errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._validationConfig.inputErrorClass),t.textContent=e.validationMessage,t.classList.remove(this._validationConfig.errorClass)}},{key:"_chekInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hasInvalidInput",value:function(e){return Array.from(e).some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(t)?this.disabledButton(e):(e.classList.remove(this._validationConfig.disabledButtonSelector),e.removeAttribute("disabled"))}},{key:"_setEventListeners",value:function(){var e=this,t=Array.from(this._formElement.querySelectorAll(this._validationConfig.inputSelector)),n=this._formElement.querySelector(this._validationConfig.submitButtonSelector);t.forEach((function(r){r.addEventListener("input",(function(){e._chekInputValidity(r),e._toggleButtonState(n,t)})),e._toggleButtonState(n,t)}))}},{key:"clearInputError",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t),e._formElement.querySelector(".".concat(t.id,"-error")).textContent=""}))}},{key:"disabledButton",value:function(e){e.setAttribute("disabled","true"),e.classList.add(this._validationConfig.disabledButtonSelector)}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault})),this._setEventListeners(this._formElement)}}])&&g(t.prototype,n),e}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(o){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._submitForm=t,n._popupSubmitButton=n._popupSelector.querySelector(".popup__button-save"),n._submitButtonText=n._popupSubmitButton.textContent,n}return t=u,(n=[{key:"setEventListeners",value:function(){var e=this;this._popupSelector.addEventListener("submit",(function(t){t.preventDefault(),e._submitForm(t,e._card)}))}},{key:"open",value:function(e){L(I(u.prototype),"open",this).call(this),this._card=e}}])&&w(t.prototype,n),u}(t);function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t){var n=t.address,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._address=n,this._headers=r}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch("".concat(this._address,"/cards"),{headers:this._headers}).then(this._checkStatus)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._address,"/users/me"),{headers:this._headers}).then(this._checkStatus)}},{key:"editUserInfo",value:function(e,t){return fetch("".concat(this._address,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkStatus)}},{key:"addCard",value:function(e,t){return fetch("".concat(this._address,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkStatus)}},{key:"editUserAvatar",value:function(e){return fetch("".concat(this._address,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkStatus)}},{key:"likeCard",value:function(e){return fetch("".concat(this._address,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._checkStatus)}},{key:"dislikeCard",value:function(e){return fetch("".concat(this._address,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkStatus)}},{key:"removeCard",value:function(e){return fetch("".concat(this._address,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkStatus)}},{key:"_checkStatus",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}}])&&P(t.prototype,n),e}(),B=(document.querySelector(".elements"),document.querySelector(".popup_type_profile")),T=document.querySelector(".popup_type_cardpopup"),x=document.querySelector(".popup_type_imagepopup"),A=document.querySelector(".profile__edit-button"),D=document.querySelector(".profile__add-button"),U=(B.querySelector(".popup__button-close"),T.querySelector(".popup__button-close"),x.querySelector(".popup__button-close"),document.querySelector(".popup__button-close"),document.querySelector(".profile__username"),document.querySelector(".profile__user-description"),B.querySelector(".popup__form-profile")),V=T.querySelector(".popup__form-card"),N=document.querySelector(".popup__field_type_name"),F=document.querySelector(".popup__field_type_description"),M=(T.querySelector(".popup__field_type_place"),T.querySelector(".popup__field_type_imageUrl"),document.querySelector(".elements"),document.querySelector(".elements-template"),T.querySelector(".popup__button-save")),H=(document.querySelector(".popup__image"),document.querySelector(".popup__caption"),document.querySelector(".popup"),document.forms["popup-card"],document.querySelector(".popup_type_avatarpopup")),J=(document.querySelector(".profile__avatar"),H.querySelector(".popup__form-avatar")),z=H.querySelector(".popup__field_avatar_imageUrl"),$=document.querySelector(".profile__avatar-edit"),G=H.querySelector(".popup__button-save"),K={formSelector:".popup__form",inputSelector:".popup__field",submitButtonSelector:".popup__button-save",disabledButtonSelector:"popup__button-disabled",inputErrorClass:"popup__field-invalid",errorClass:"popup__error",popupOpen:".popup_opened"};function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=new R({address:"https://mesto.nomoreparties.co/v1/cohort-26",headers:{authorization:"6a8d306b-88c2-4559-b9fb-ed6535e42e98","Content-type":"application/json"}});Promise.all([W.getUserInfo(),W.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1].reverse();ae.setUserInfo(o),ue.renderedItems(i)})).catch((function(e){console.log("Произошла ошибка: ".concat(e))}));var X=new h(".popup_type_imagepopup",".popup__image",".popup__caption");X.setEventListeners();var Y=new c(".popup_type_profile",(function(e){Y.renderLoading(!0),W.editUserInfo(e.name,e.description).then((function(){ae.setUserInfo(e),Y.close()})).catch((function(e){console.log("Произошла ошибка: ".concat(e))})).finally((function(){Y.renderLoading(!1)}))}));Y.setEventListeners();var Z=new c(".popup_type_cardpopup",(function(e){Z.renderLoading(!0),W.addCard(e.placeName,e["form-link-input"]).then((function(e){var t=ie(e);ue.setItem(t),Z.close()})).finally((function(){Z.renderLoading(!1)}))}));Z.setEventListeners();var ee=new c(".popup_type_avatarpopup",(function(){ee.renderLoading(!0),W.editUserAvatar(z.value).then((function(e){ae.setUserInfo(e),ee.close()})).catch((function(e){console.log(e)})).finally((function(){ee.renderLoading(!1)}))}));ee.setEventListeners();var te=new j(".popup_type_deleteimage",(function(e,t){ce(e,t)}));te.setEventListeners();var ne=new C(K,U),re=new C(K,V),oe=new C(K,J);function ie(e){var t=new S(e,".elements-template",{handleCardClick:function(e,t){X.open(e,t)},likeCardClick:function(){(t.likedCard()?W.dislikeCard(t.getIdCard()):W.likeCard(t.getIdCard())).then((function(e){t.setLikes(e.likes),t.renderLikes()})).catch((function(e){console.log(e)}))},handleCardDelete:function(){te.open(t)}},"413b95658633c2bb86ec5848",e._id);return t.generateCard()}ne.enableValidation(),re.enableValidation(),oe.enableValidation();var ue=new v({renderer:function(e){var t=ie(e);ue.setItem(t)}},".elements");D.addEventListener("click",(function(){Z.open(),re.disabledButton(M),re.clearInputError(M)}));var ae=new b({userName:".profile__username",userDescription:".profile__user-description",profileAvatars:".profile__avatar"});A.addEventListener("click",(function(){Y.open();var e=ae.getUserInfo();N.value=e.name,F.value=e.about,ne.clearInputError(M)})),$.addEventListener("click",(function(){ee.open(),oe.clearInputError(G),oe.disabledButton(G)}));var ce=function(e,t){e.preventDefault(),W.removeCard(t.getIdCard()).then((function(e){t.removeCard(),te.close()})).catch((function(e){console.log(e)}))}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsInRoaXMiLCJfcG9wdXBTZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfaGFuZGxlQ2xpY2tDbG9zZSIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJldnQiLCJrZXkiLCJjbG9zZSIsInRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRGb3JtIiwiX3N1Ym1pdEZvcm0iLCJfcG9wdXBTdWJtaXRCdXR0b24iLCJfc3VibWl0QnV0dG9uVGV4dCIsInRleHRDb250ZW50IiwiX2Zvcm1Qb3B1cCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaW5wdXRWYWx1ZSIsImZvckVhY2giLCJpbnB1dCIsIm5hbWUiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJpc0xvYWRpbmciLCJsb2FkaW5nTWVzc2FnZSIsIlBvcHVwV2l0aEltYWdlIiwiaW1hZ2VTZWxlY3RvciIsInRpdGxlU2VsZWN0b3IiLCJfaW1hZ2UiLCJfdGl0bGUiLCJ0aXRsZSIsImxpbmsiLCJhbHQiLCJzcmMiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsIml0ZW1zIiwiaXRlbSIsImlubmVySFRNTCIsIlVzZXJJbmZvIiwidXNlck5hbWUiLCJ1c2VyRGVzY3JpcHRpb24iLCJwcm9maWxlQXZhdGFycyIsIl91c2VyTmFtZSIsIl91c2VyRGVzY3JpcHRpb24iLCJfcHJvZmlsZUF2YXRhcnMiLCJhYm91dCIsImF2YXRhciIsImRlc2NyaXB0aW9uIiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsInVzZXJJZCIsImNhcmRJZCIsImhhbmRsZUNhcmRDbGljayIsImxpa2VDYXJkQ2xpY2siLCJoYW5kbGVDYXJkRGVsZXRlIiwiX25hbWUiLCJfbGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2xpa2VDYXJkQ2xpY2siLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIl9jb3VudExpa2VzIiwibGlrZXMiLCJfdXNlcklkIiwiX2NhcmRJZCIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJ0b2dnbGUiLCJjbG9zZXN0IiwiX2dldFRlbXBsYXRlIiwiX2ltZ0VsZW1lbnQiLCJfaGFuZGxlTGlrZSIsIl9saWtlcyIsIl9kZWxldGVJY29uIiwic3R5bGUiLCJkaXNwbGF5IiwicmVuZGVyTGlrZXMiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfbGlrZSIsImxlbmd0aCIsIl9zaG93TGlrZXMiLCJzb21lIiwibGlrZSIsImxpa2VkQ2FyZCIsImxpc3QiLCJGb3JtVmFsaWRhdG9yIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1FbGVtZW50IiwiX3ZhbGlkYXRpb25Db25maWciLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwiaW5wdXRTZWxlY3RvciIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0cyIsImJ1dHRvbkVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWRCdXR0b24iLCJkaXNhYmxlZEJ1dHRvblNlbGVjdG9yIiwicmVtb3ZlQXR0cmlidXRlIiwiYnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfY2hla0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJzZXRBdHRyaWJ1dGUiLCJQb3B1cFdpdGhDb25maXJtIiwiX2NhcmQiLCJjYXJkIiwiQXBpIiwiYWRkcmVzcyIsImhlYWRlcnMiLCJfYWRkcmVzcyIsIl9oZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrU3RhdHVzIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cmwiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwicHJvZmlsZVBvcHVwIiwiY2FyZFBvcHVwIiwiaW1hZ2VQb3B1cCIsImVkaXRQb3B1cEJ1dHRvbiIsImFkZFBvcHVwQnV0dG9uIiwiZm9ybUVsZW1lbnRQcm9maWxlIiwiZm9ybUVsZW1lbnRDYXJkIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJjYXJkQnV0dG9uU2F2ZSIsInBvcHVwQXZhdGFyIiwiZm9ybXMiLCJmb3JtQXZhdGFyIiwicHJvZmlsZUF2YXRhcklucHV0IiwidXBkYXRlQXZhdGFyQnV0dG9uIiwiYXZhdGFyQnV0dG9uU2F2ZSIsImZvcm1TZWxlY3RvciIsInBvcHVwT3BlbiIsImFwaSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJnZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsImRhdGEiLCJyZXZlcnNlSXRlbXMiLCJyZXZlcnNlIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhcmRMaXN0IiwicmVuZGVyZWRJdGVtcyIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicG9wdXBXaXRoSW1hZ2UiLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwRWRpdFByb2ZpbGUiLCJpbnB1dHNWYWx1ZSIsInJlbmRlckxvYWRpbmciLCJlZGl0VXNlckluZm8iLCJlcnIiLCJmaW5hbGx5IiwicG9wdXBBZGRDYXJkIiwiYWRkQ2FyZCIsInBsYWNlTmFtZSIsIm5ld0NhcmQiLCJjcmVhdGVDYXJkIiwic2V0SXRlbSIsInBvcHVwRWRpdEF2YXRhciIsImVkaXRVc2VyQXZhdGFyIiwicG9wdXBEZWxldGVDb25maXJtIiwiZGVsZXRlQ29uZmlybSIsInByb2ZpbGVWYWxpZGF0aW9uIiwiY2FyZFZhbGlkYXRpb24iLCJhdmF0YXJWYWxpZGF0aW9uIiwib3BlbiIsImRpc2xpa2VDYXJkIiwiZ2V0SWRDYXJkIiwibGlrZUNhcmQiLCJzZXRMaWtlcyIsImdlbmVyYXRlQ2FyZCIsImVuYWJsZVZhbGlkYXRpb24iLCJjYXJkSXRlbSIsImNsZWFySW5wdXRFcnJvciIsImN1cnJlbnRJbmZvIiwicmVtb3ZlQ2FyZCJdLCJtYXBwaW5ncyI6IjZMQUFxQkEsRSxXQUNqQixXQUFZQyxJLDRGQUFlLFNBQ3ZCQyxLQUFLQyxlQUFpQkMsU0FBU0MsY0FBY0osR0FDN0NDLEtBQUtJLGdCQUFrQkosS0FBS0ksZ0JBQWdCQyxLQUFLTCxNQUNqREEsS0FBS00sa0JBQW9CTixLQUFLTSxrQkFBa0JELEtBQUtMLE0seUNBRXpELFdBQ0lBLEtBQUtDLGVBQWVNLFVBQVVDLElBQUksZ0JBQ2xDTixTQUFTTyxp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SixpQkFBaUIsU0FBUyxXQUN2QzRMLEVBQWFhLE9BQ2JGLEdBQWVuRixlQUFldUMsR0FDOUI0QyxHQUFlVSxnQkFBZ0J0RCxNQUdqQyxJQUFNaUIsR0FBVyxJQUFJakksRUQxQ0ssQ0FDdEJDLFNBQVUscUJBQ1ZDLGdCQUFpQiw2QkFDakJDLGVBQWdCLHFCQ3dDcEJ1RyxFQUFnQnJKLGlCQUFpQixTQUFTLFdBQ3hDc0wsRUFBaUJtQixPQUNqQixJQUFNUyxFQUFjdEMsR0FBU0wsY0FDN0JkLFFBQWtCeUQsRUFBWWpNLEtBQzlCeUksUUFBaUJ3RCxFQUFZaEssTUFDN0JvSixHQUFrQlcsZ0JBQWdCdEQsTUFJcENLLEVBQW1CaEssaUJBQWlCLFNBQVMsV0FDM0NrTSxHQUFnQk8sT0FDaEJELEdBQWlCUyxnQkFBZ0JoRCxHQUNqQ3VDLEdBQWlCcEYsZUFBZTZDLE1BR2xDLElBQU1vQyxHQUFnQixTQUFDbk0sRUFBSzZMLEdBQzFCN0wsRUFBSWlCLGlCQUNKaUosRUFBSStDLFdBQVdwQixFQUFRWSxhQUNwQnRFLE1BQUssU0FBQU8sR0FDSm1ELEVBQVFvQixhQUNSZixHQUFtQmhNLFdBRXBCNEssT0FBTSxTQUFDVSxHQUNSUixRQUFRQyxJQUFJTyxRIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3RvcilcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcylcclxuICAgICAgICB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlID0gdGhpcy5faGFuZGxlQ2xpY2tDbG9zZS5iaW5kKHRoaXMpXHJcbiAgICB9XHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJylcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJylcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpXHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUNsaWNrQ2xvc2UoZXZ0KSB7XHJcbiAgICAgICAgaWYoZXZ0LnRhcmdldCAhPT0gdGhpcy5fcG9wdXBTZWxlY3RvcikgcmV0dXJuOyB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLWNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNsb3NlKCkpXHJcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKGV2dCkpXHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEZvcm0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKVxyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEZvcm0gPSBzdWJtaXRGb3JtXHJcbiAgICAgICAgdGhpcy5fcG9wdXBTdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLXNhdmUnKVxyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLl9wb3B1cFN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudFxyXG4gICAgfVxyXG5cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICB0aGlzLl9mb3JtUG9wdXAgPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fZmllbGQnKVxyXG4gICAgICAgIHRoaXMuX2lucHV0VmFsdWUgPSB7fVxyXG4gICAgICAgIHRoaXMuX2Zvcm1Qb3B1cC5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faW5wdXRWYWx1ZVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRWYWx1ZVxyXG4gICAgfVxyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKClcclxuICAgICAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICBzdXBlci5jbG9zZSgpXHJcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKS5yZXNldCgpXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdNZXNzYWdlPSfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpIHtcclxuICAgICAgICBpZihpc0xvYWRpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9wdXBTdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBsb2FkaW5nTWVzc2FnZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvcHVwU3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uVGV4dFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaW1hZ2VTZWxlY3RvciwgdGl0bGVTZWxlY3Rvcikge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoaW1hZ2VTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IodGl0bGVTZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgb3Blbih0aXRsZSwgbGluaykge1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLmFsdCA9IHRpdGxlXHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGlua1xyXG4gICAgICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gdGl0bGVcclxuICAgICAgICBzdXBlci5vcGVuKClcclxuICAgIH1cclxufSIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHtyZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlclxyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpXHJcbiAgICB9XHJcblxyXG4gICAgc2V0SXRlbShlbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudClcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJlZEl0ZW1zKGl0ZW1zKSB7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHRoaXMuX3JlbmRlcmVyKGl0ZW0pKVxyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHt1c2VyTmFtZSwgdXNlckRlc2NyaXB0aW9uLCBwcm9maWxlQXZhdGFyc30pIHtcclxuICAgICAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWUpXHJcbiAgICAgICAgdGhpcy5fdXNlckRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyRGVzY3JpcHRpb24pXHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZUF2YXRhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVBdmF0YXJzKVxyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJWYWx1ZSA9IHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGFib3V0OiB0aGlzLl91c2VyRGVzY3JpcHRpb24udGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGF2YXRhcjogdGhpcy5fcHJvZmlsZUF2YXRhcnMuc3JjXHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHVzZXJWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VySW5mbyh7bmFtZSwgZGVzY3JpcHRpb24sIGF2YXRhcn0pIHtcclxuICAgICAgICBpZiAobmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZXNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLl91c2VyRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGF2YXRhcikge1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9maWxlQXZhdGFycy5zcmMgPSBhdmF0YXJcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHsgXHJcbiAgICBjb25zdHJ1Y3RvcihpdGVtLCBjYXJkU2VsZWN0b3IsIHtoYW5kbGVDYXJkQ2xpY2ssIGxpa2VDYXJkQ2xpY2ssIGhhbmRsZUNhcmREZWxldGV9LCB1c2VySWQsIGNhcmRJZCkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBpdGVtLm5hbWUgICAgICAgIFxyXG4gICAgICAgIHRoaXMuX2xpbmsgPSBpdGVtLmxpbmtcclxuICAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3JcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2tcclxuICAgICAgICB0aGlzLl9saWtlQ2FyZENsaWNrID0gbGlrZUNhcmRDbGlja1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVDYXJkRGVsZXRlXHJcbiAgICAgICAgdGhpcy5fY291bnRMaWtlcyA9IGl0ZW0ubGlrZXNcclxuICAgICAgICB0aGlzLl91c2VySWQgPSB1c2VySWRcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWRcclxuICAgICAgICB0aGlzLl9vd25lcklkID0gaXRlbS5vd25lci5faWQ7XHJcbiAgXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgICAgLmNvbnRlbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcignLmNhcmQnKVxyXG4gICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIF9saWtlKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtYnV0dG9uJykuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlJylcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZS1idXR0b24nKS5jbG9zZXN0KCcuY2FyZCcpLnJlbW92ZSgpXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgICAgICB0aGlzLl9pbWdFbGVtZW50ID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKVxyXG4gICAgICAgIHRoaXMuX2ltZ0VsZW1lbnQuc3JjID0gdGhpcy5fbGlua1xyXG4gICAgICAgIHRoaXMuX2ltZ0VsZW1lbnQuYWx0ID0gdGhpcy5fbmFtZVxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lXHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtYnV0dG9uJylcclxuICAgICAgICB0aGlzLl9saWtlcyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtY291bnRlcicpXHJcbiAgICAgICAgdGhpcy5fZGVsZXRlSWNvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZS1idXR0b24nKVxyXG4gICAgICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZGVsZXRlSWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlbmRlckxpa2VzKClcclxuXHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50XHJcbiAgICB9XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpa2VDYXJkQ2xpY2soKVxyXG4gICAgICAgICAgICB0aGlzLl9saWtlKClcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZS1idXR0b24nKVxyXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSgpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5faW1nRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKClcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJMaWtlcygpIHtcclxuICAgICAgICB0aGlzLl9saWtlcy50ZXh0Q29udGVudCA9IHRoaXMuX2NvdW50TGlrZXMubGVuZ3RoXHJcbiAgICAgICAgdGhpcy5fc2hvd0xpa2VzKHRoaXMuX3VzZXJJZClcclxuICAgIH1cclxuXHJcbiAgICBnZXRJZENhcmQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhcmRJZFxyXG4gICAgfVxyXG5cclxuICAgIGxpa2VkQ2FyZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY291bnRMaWtlcy5zb21lKGxpa2UgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgX3Nob3dMaWtlcygpIHtcclxuICAgICAgICBpZiAodGhpcy5saWtlZENhcmQodGhpcy5fdXNlcklkKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVMaWtlLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlTGlrZS5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldExpa2VzKGxpc3QpIHtcclxuICAgICAgICB0aGlzLl9jb3VudExpa2VzID0gbGlzdFxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcgPSB2YWxpZGF0aW9uQ29uZmlnO1xyXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnRcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yKSlcclxuICAgIH1cclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApXHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpXHJcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzcylcclxuICAgIH1cclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzcyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIF9jaGVrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfaGFzSW52YWxpZElucHV0KGlucHV0cykgIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShpbnB1dHMpLnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgX3RvZ2dsZUJ1dHRvblN0YXRlKGJ1dHRvbkVsZW1lbnQsIGlucHV0cykge1xyXG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRzKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc2FibGVkQnV0dG9uKGJ1dHRvbkVsZW1lbnQpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZGlzYWJsZWRCdXR0b25TZWxlY3RvcilcclxuICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3IpKVxyXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICAgICAgaW5wdXRzLmZvckVhY2goaW5wdXRFbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hla0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGJ1dHRvbiwgaW5wdXRzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShidXR0b24sIGlucHV0cyk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcklucHV0RXJyb3IoKSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXRFbGVtZW50ID0+IHtcclxuICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCkudGV4dENvbnRlbnQgPSAnJztcclxuICAgIFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNhYmxlZEJ1dHRvbihidXR0b25FbGVtZW50KSB7XHJcbiAgICAgICAgYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKVxyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmRpc2FibGVkQnV0dG9uU2VsZWN0b3IpXHJcbiAgICB9XHJcblxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnModGhpcy5fZm9ybUVsZW1lbnQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAnXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRGb3JtKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3RvcilcclxuICAgICAgICB0aGlzLl9zdWJtaXRGb3JtID0gc3VibWl0Rm9ybSAgIFxyXG4gICAgICAgIHRoaXMuX3BvcHVwU3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbi1zYXZlJylcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25UZXh0ID0gdGhpcy5fcG9wdXBTdWJtaXRCdXR0b24udGV4dENvbnRlbnRcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEZvcm0oZXZ0LCB0aGlzLl9jYXJkKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgb3BlbihjYXJkKSB7XHJcbiAgICAgICAgc3VwZXIub3BlbigpXHJcbiAgICAgICAgdGhpcy5fY2FyZCA9IGNhcmRcclxuICAgIH1cclxufSIsIiBleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gICAgIGNvbnN0cnVjdG9yKHthZGRyZXNzLCBoZWFkZXJzfSkge1xyXG4gICAgICAgIHRoaXMuX2FkZHJlc3MgPSBhZGRyZXNzXHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnNcclxuICAgICB9XHJcblxyXG5cclxuICAgICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2FkZHJlc3N9L2NhcmRzYCwge1xyXG4gICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpXHJcbiAgICAgIH1cclxuICAgIFxyXG4gICAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYWRkcmVzc30vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSkudGhlbih0aGlzLl9jaGVja1N0YXR1cylcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAgIGVkaXRVc2VySW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9hZGRyZXNzfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIGFib3V0OiBhYm91dFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKVxyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgYWRkQ2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2FkZHJlc3N9L2NhcmRzYCwge1xyXG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpXHJcbiAgICAgIH1cclxuICAgIFxyXG4gICAgICBlZGl0VXNlckF2YXRhcih1cmwpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYWRkcmVzc30vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgYXZhdGFyOiB1cmxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSkudGhlbih0aGlzLl9jaGVja1N0YXR1cylcclxuICAgICAgfVxyXG4gICAgXHJcbiAgICAgIGxpa2VDYXJkKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9hZGRyZXNzfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpXHJcbiAgICAgIH1cclxuICAgIFxyXG4gICAgICBkaXNsaWtlQ2FyZChjYXJkSWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYWRkcmVzc30vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKVxyXG4gICAgICB9XHJcbiAgICBcclxuICAgICAgcmVtb3ZlQ2FyZChjYXJkSWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYWRkcmVzc30vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKVxyXG4gICAgICB9XHJcbiAgICAgIF9jaGVja1N0YXR1cyhyZXMpIHtcclxuICAgICAgICBpZiAoIXJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAgJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgfSIsImV4cG9ydCB7IGNsYXNzU2VjdGlvbiwgdmFsaWRhdGlvbkNvbmZpZyB9O1xyXG5jb25zdCBjbGFzc1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHMnKVxyXG5jb25zdCBjbGFzc1NlY3Rpb25TZWxlY3RvciA9ICcuZWxlbWVudHMnXHJcbmNvbnN0IHByb2ZpbGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX3Byb2ZpbGUnKSAvLyDRgNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCDQv9GA0L7RhNC40LvRjCDQv9C+0L/QsNC/0LBcclxuY29uc3QgcHJvZmlsZVBvcHVwU2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfcHJvZmlsZSdcclxuY29uc3QgY2FyZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfY2FyZHBvcHVwJyk7IC8vINGA0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINC/0L7Qv9Cw0L8g0LrQsNGA0YLQvtGH0LXQulxyXG5jb25zdCBjYXJkUG9wdXBTZWxlY3RvciA9ICcucG9wdXBfdHlwZV9jYXJkcG9wdXAnXHJcbmNvbnN0IGltYWdlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9pbWFnZXBvcHVwJyk7IC8vINC/0L7Qv9Cw0L8g0L7RgtC60YDRi9GC0LjRjyDRhNC+0YLQvtCz0YDQsNGE0LjQuFxyXG5jb25zdCBpbWFnZVBvcHVwU2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfaW1hZ2Vwb3B1cCdcclxuY29uc3QgZWRpdFBvcHVwQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7IC8vINC60L3QvtC/0LrQsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IGFkZFBvcHVwQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTsgLy8g0LrQvdC+0L/QutCwINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgY2xvc2VCdXR0b25Qcm9maWxlID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLWNsb3NlJyk7IC8vINC60L3QvtC/0LrQsCDQt9Cw0LrRgNGL0YLQuNGPINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgY2xvc2VCdXR0b25DYXJkID0gIGNhcmRQb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbi1jbG9zZScpOyAvLyDQutC90L7Qv9C60LAg0LfQsNC60YDRi9GC0LjRjyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGNsb3NlQnV0dG9uSW1hZ2UgPSBpbWFnZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLWNsb3NlJyk7IC8vINC60L3QvtC/0LrQsCDQt9Cw0LrRgNGL0YLQuNGPINGE0L7RgtC+0LPRgNCw0YTQuNC4XHJcbmNvbnN0IGNsb3NlQnV0dG9uUG9wVXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbi1jbG9zZScpXHJcbmNvbnN0IHVzZXJuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3VzZXJuYW1lJyk7IC8vINC40LzRjyDQv9GA0L7RhNC40LvRjyDQsiDQv9GA0L7RhNC40LvQtVxyXG5jb25zdCB1c2VyTmFtZVNlbGVjdG9yID0gJy5wcm9maWxlX191c2VybmFtZSdcclxuY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdXNlci1kZXNjcmlwdGlvbicpOyAvLyDQvtC/0LjRgdCw0L3QuNC1INC/0YDQvtGE0LjQu9GPINC90LAg0YHRgtGA0LDQvdC40YbQtVxyXG5jb25zdCBkZXNjcmlwdGlvblNlbGVjdG9yID0gJy5wcm9maWxlX191c2VyLWRlc2NyaXB0aW9uJ1xyXG5jb25zdCBmb3JtRWxlbWVudFByb2ZpbGUgPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtLXByb2ZpbGUnKTsgLy8g0YTQvtGA0LzQsCDQstCy0L7QtNCwINC40L3RhNGLINCyINC/0YDQvtGE0LjQu9C1XHJcbmNvbnN0IGZvcm1FbGVtZW50Q2FyZCA9IGNhcmRQb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0tY2FyZCcpIC8vINGE0L7RgNC80LAg0LTQu9GPINCy0YHRgtCw0LLQutC4INGE0L7RgtC+0LPRgNCw0YTQuNC4XHJcbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZmllbGRfdHlwZV9uYW1lJyk7IC8vINC/0L7Qu9C1INC00LvRjyDQstCy0L7QtNCwINC40LzQtdC90LhcclxuY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ZpZWxkX3R5cGVfZGVzY3JpcHRpb24nKTsgLy8g0L/QvtC70LUg0LTQu9GPINCy0LLQvtC00LAg0L7Qv9C40YHQsNC90LjRj1xyXG5jb25zdCBpbnB1dENhcmRQbGFjZSA9IGNhcmRQb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ZpZWxkX3R5cGVfcGxhY2UnKTsgLy8g0L/QvtC70LUg0LTQu9GPINCy0LLQvtC00LAg0LzQtdGB0YLQsFxyXG5jb25zdCBpbnB1dENhcmRVcmwgPSBjYXJkUG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19maWVsZF90eXBlX2ltYWdlVXJsJyk7IC8vINC/0L7Qu9C1INC00LvRjyDQstCy0L7QtNCwINGB0YHRi9C70LrQuFxyXG5jb25zdCBjYXJkU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50cycpOyAvLyDRgdC10LrRhtC40Y8g0YTQvtGC0L7QutCw0YDRgtC+0YfQtdC6XHJcbmNvbnN0IGNhcmRTZWxlY3RvciA9ICcuZWxlbWVudHMtdGVtcGxhdGUnXHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50cy10ZW1wbGF0ZScpOyAvLyB0ZW1wbGF0ZSDQstGB0YLQsNCy0LrQsFxyXG5jb25zdCBjYXJkQnV0dG9uU2F2ZSA9IGNhcmRQb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbi1zYXZlJylcclxuY29uc3QgaW1hZ2VUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XHJcbmNvbnN0IGltYWdlVGFnU2VsZWN0b3IgPSAnLnBvcHVwX19pbWFnZSdcclxuY29uc3QgaW1hZ2VUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2FwdGlvbicpO1xyXG5jb25zdCBpbWFnZVRpdGxlU2VsZWN0b3IgPSAnLnBvcHVwX19jYXB0aW9uJ1xyXG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpXHJcbmNvbnN0IGNsZWFyUHJvZmlsZSA9IGRvY3VtZW50LmZvcm1zWydwb3B1cC1jYXJkJ11cclxuXHJcblxyXG5jb25zdCBkZWxldGVQb3B1cFNlbGVjdG9yID0gJy5wb3B1cF90eXBlX2RlbGV0ZWltYWdlJ1xyXG5jb25zdCB1c2VySWQgPSAnNDEzYjk1NjU4NjMzYzJiYjg2ZWM1ODQ4J1xyXG5jb25zdCBwb3B1cEF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2F2YXRhcnBvcHVwJylcclxuY29uc3QgcG9wdXBBdmF0YXJTZWxlY3RvciA9ICcucG9wdXBfdHlwZV9hdmF0YXJwb3B1cCdcclxuY29uc3QgcHJvZmlsZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKVxyXG5jb25zdCBmb3JtQXZhdGFyID0gcG9wdXBBdmF0YXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtLWF2YXRhcicpXHJcbmNvbnN0IHByb2ZpbGVBdmF0YXJJbnB1dCA9IHBvcHVwQXZhdGFyLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZmllbGRfYXZhdGFyX2ltYWdlVXJsJylcclxuY29uc3QgdXBkYXRlQXZhdGFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1lZGl0JylcclxuY29uc3QgdXBkYXRlQXZhdGFyQnV0dG9uU2VsZWN0b3IgPSAnLnByb2ZpbGVfX2F2YXRhci1lZGl0J1xyXG5jb25zdCBhdmF0YXJCdXR0b25TYXZlID0gcG9wdXBBdmF0YXIucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24tc2F2ZScpXHJcblxyXG5cclxuZXhwb3J0IHtcclxuICBwcm9maWxlUG9wdXAsXHJcbiAgY2FyZFBvcHVwLFxyXG4gIGltYWdlUG9wdXAsXHJcbiAgZWRpdFBvcHVwQnV0dG9uLFxyXG4gIGFkZFBvcHVwQnV0dG9uLFxyXG4gIGNsb3NlQnV0dG9uUHJvZmlsZSxcclxuICBjbG9zZUJ1dHRvbkNhcmQsXHJcbiAgY2xvc2VCdXR0b25JbWFnZSxcclxuICBjbG9zZUJ1dHRvblBvcFVwLFxyXG4gIHVzZXJuYW1lLFxyXG4gIGRlc2NyaXB0aW9uLFxyXG4gIGZvcm1FbGVtZW50UHJvZmlsZSxcclxuICBmb3JtRWxlbWVudENhcmQsXHJcbiAgbmFtZUlucHV0LFxyXG4gIGpvYklucHV0LFxyXG4gIGlucHV0Q2FyZFBsYWNlLFxyXG4gIGlucHV0Q2FyZFVybCxcclxuICBjYXJkU2VjdGlvbixcclxuICBjYXJkVGVtcGxhdGUsXHJcbiAgY2FyZEJ1dHRvblNhdmUsXHJcbiAgaW1hZ2VUYWcsXHJcbiAgaW1hZ2VUaXRsZSxcclxuICBwb3B1cCxcclxuICBjbGVhclByb2ZpbGUsXHJcbiAgaW1hZ2VQb3B1cFNlbGVjdG9yLFxyXG4gIHByb2ZpbGVQb3B1cFNlbGVjdG9yLFxyXG4gIGNhcmRTZWxlY3RvcixcclxuICBpbWFnZVRhZ1NlbGVjdG9yLFxyXG4gIGltYWdlVGl0bGVTZWxlY3RvcixcclxuICBjYXJkUG9wdXBTZWxlY3RvcixcclxuICB1c2VyTmFtZVNlbGVjdG9yLFxyXG4gIGRlc2NyaXB0aW9uU2VsZWN0b3IsXHJcbiAgY2xhc3NTZWN0aW9uU2VsZWN0b3IsXHJcbiAgZGVsZXRlUG9wdXBTZWxlY3RvcixcclxuICB1c2VySWQsXHJcbiAgcG9wdXBBdmF0YXIsXHJcbiAgcG9wdXBBdmF0YXJTZWxlY3RvcixcclxuICBwcm9maWxlQXZhdGFyLFxyXG4gIGZvcm1BdmF0YXIsXHJcbiAgcHJvZmlsZUF2YXRhcklucHV0LFxyXG4gIHVwZGF0ZUF2YXRhckJ1dHRvbixcclxuICB1cGRhdGVBdmF0YXJCdXR0b25TZWxlY3RvcixcclxuICBhdmF0YXJCdXR0b25TYXZlLFxyXG4gIHByb2ZpbGVTZWxlY3RvclxyXG59XHJcblxyXG4vLyAgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4vLyAgICAge1xyXG4vLyAgICAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbi8vICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZydcclxuLy8gICAgIH0sXHJcbi8vICAgICB7XHJcbi8vICAgICAgIG5hbWU6ICfQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMJyxcclxuLy8gICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xyXG4vLyAgICAgfSxcclxuLy8gICAgIHtcclxuLy8gICAgICAgbmFtZTogJ9CY0LLQsNC90L7QstC+JyxcclxuLy8gICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZydcclxuLy8gICAgIH0sXHJcbi8vICAgICB7XHJcbi8vICAgICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuLy8gICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9rYW1jaGF0a2EuanBnJ1xyXG4vLyAgICAgfSxcclxuLy8gICAgIHtcclxuLy8gICAgICAgbmFtZTogJ9Cl0L7Qu9C80L7Qs9C+0YDRgdC60LjQuSDRgNCw0LnQvtC9JyxcclxuLy8gICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xyXG4vLyAgICAgfSxcclxuLy8gICAgIHtcclxuLy8gICAgICAgbmFtZTogJ9CR0LDQudC60LDQuycsXHJcbi8vICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZydcclxuLy8gICAgIH1cclxuLy8gXTtcclxuXHJcbmNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9fZmllbGQnLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbi1zYXZlJyxcclxuICAgIGRpc2FibGVkQnV0dG9uU2VsZWN0b3I6ICdwb3B1cF9fYnV0dG9uLWRpc2FibGVkJyxcclxuICAgIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19maWVsZC1pbnZhbGlkJyxcclxuICAgIGVycm9yQ2xhc3M6ICdwb3B1cF9fZXJyb3InLFxyXG4gICAgcG9wdXBPcGVuOiAnLnBvcHVwX29wZW5lZCdcclxuICB9O1xyXG5cclxuICBjb25zdCBwcm9maWxlU2VsZWN0b3IgPSB7XHJcbiAgICB1c2VyTmFtZTogJy5wcm9maWxlX191c2VybmFtZScsXHJcbiAgICB1c2VyRGVzY3JpcHRpb246ICcucHJvZmlsZV9fdXNlci1kZXNjcmlwdGlvbicsXHJcbiAgICBwcm9maWxlQXZhdGFyczogJy5wcm9maWxlX19hdmF0YXInXHJcbiAgfVxyXG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJ1xyXG5pbXBvcnQgUG9wdXAgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cC5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcydcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnXHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcydcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnXHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcydcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzJztcclxuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcydcclxuaW1wb3J0IHtjbGFzc1NlY3Rpb24sIHZhbGlkYXRpb25Db25maWd9IGZyb20gJy4uL3V0aWxzL2NvbnN0LmpzJ1xyXG5pbXBvcnQge1xyXG4gIHByb2ZpbGVQb3B1cCxcclxuICBjYXJkUG9wdXAsXHJcbiAgaW1hZ2VQb3B1cCxcclxuICBlZGl0UG9wdXBCdXR0b24sXHJcbiAgYWRkUG9wdXBCdXR0b24sXHJcbiAgY2xvc2VCdXR0b25Qcm9maWxlLFxyXG4gIGNsb3NlQnV0dG9uQ2FyZCxcclxuICBjbG9zZUJ1dHRvbkltYWdlLFxyXG4gIGNsb3NlQnV0dG9uUG9wVXAsXHJcbiAgdXNlcm5hbWUsXHJcbiAgZGVzY3JpcHRpb24sXHJcbiAgZm9ybUVsZW1lbnRQcm9maWxlLFxyXG4gIGZvcm1FbGVtZW50Q2FyZCxcclxuICBuYW1lSW5wdXQsXHJcbiAgam9iSW5wdXQsXHJcbiAgaW5wdXRDYXJkUGxhY2UsXHJcbiAgaW5wdXRDYXJkVXJsLFxyXG4gIGNhcmRTZWN0aW9uLFxyXG4gIGNhcmRUZW1wbGF0ZSxcclxuICBjYXJkQnV0dG9uU2F2ZSxcclxuICBpbWFnZVRhZyxcclxuICBpbWFnZVRpdGxlLFxyXG4gIHBvcHVwLFxyXG4gIGNsZWFyUHJvZmlsZSxcclxuICBpbWFnZVBvcHVwU2VsZWN0b3IsXHJcbiAgcHJvZmlsZVBvcHVwU2VsZWN0b3IsXHJcbiAgY2FyZFNlbGVjdG9yLFxyXG4gIGltYWdlVGFnU2VsZWN0b3IsXHJcbiAgaW1hZ2VUaXRsZVNlbGVjdG9yLFxyXG4gIGNhcmRQb3B1cFNlbGVjdG9yLFxyXG4gIHVzZXJOYW1lU2VsZWN0b3IsXHJcbiAgZGVzY3JpcHRpb25TZWxlY3RvcixcclxuICBjbGFzc1NlY3Rpb25TZWxlY3RvcixcclxuICBkZWxldGVQb3B1cFNlbGVjdG9yLFxyXG4gIHVzZXJJZCxcclxuICBwb3B1cEF2YXRhcixcclxuICBwb3B1cEF2YXRhclNlbGVjdG9yLFxyXG4gIHByb2ZpbGVBdmF0YXIsXHJcbiAgZm9ybUF2YXRhcixcclxuICBwcm9maWxlQXZhdGFySW5wdXQsXHJcbiAgdXBkYXRlQXZhdGFyQnV0dG9uLFxyXG4gIHVwZGF0ZUF2YXRhckJ1dHRvblNlbGVjdG9yLFxyXG4gIGF2YXRhckJ1dHRvblNhdmUsXHJcbiAgcHJvZmlsZVNlbGVjdG9yXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3QuanMnXHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBhZGRyZXNzOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0yNicsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogJzZhOGQzMDZiLTg4YzItNDU1OS1iOWZiLWVkNjUzNWU0MmU5OCcsXHJcbiAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgfVxyXG59KVxyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4udGhlbigoW2RhdGEsaXRlbXNdKSA9PiB7XHJcbiAgY29uc3QgcmV2ZXJzZUl0ZW1zID0gaXRlbXMucmV2ZXJzZSgpXHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSlcclxuICBjYXJkTGlzdC5yZW5kZXJlZEl0ZW1zKHJldmVyc2VJdGVtcylcclxufSlcclxuLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGDQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwOiAke2Vycm9yfWApXHJcbn0pXHJcblxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShpbWFnZVBvcHVwU2VsZWN0b3IsIGltYWdlVGFnU2VsZWN0b3IsIGltYWdlVGl0bGVTZWxlY3RvcilcclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKVxyXG5cclxuY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKHByb2ZpbGVQb3B1cFNlbGVjdG9yLCAoaW5wdXRzVmFsdWUpID0+IHtcclxuICBwb3B1cEVkaXRQcm9maWxlLnJlbmRlckxvYWRpbmcodHJ1ZSlcclxuICBhcGkuZWRpdFVzZXJJbmZvKGlucHV0c1ZhbHVlLm5hbWUsIGlucHV0c1ZhbHVlLmRlc2NyaXB0aW9uKVxyXG4gIC50aGVuKCgpID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGlucHV0c1ZhbHVlKVxyXG4gICAgcG9wdXBFZGl0UHJvZmlsZS5jbG9zZSgpXHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coYNCf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LA6ICR7ZXJyfWApXHJcbiAgfSlcclxuICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICBwb3B1cEVkaXRQcm9maWxlLnJlbmRlckxvYWRpbmcoZmFsc2UpXHJcbiAgfSlcclxufSlcclxucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpXHJcblxyXG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShjYXJkUG9wdXBTZWxlY3RvciwgKGlucHV0c1ZhbHVlKSA9PiB7XHJcbiAgcG9wdXBBZGRDYXJkLnJlbmRlckxvYWRpbmcodHJ1ZSlcclxuICBhcGkuYWRkQ2FyZChpbnB1dHNWYWx1ZS5wbGFjZU5hbWUsIGlucHV0c1ZhbHVlWydmb3JtLWxpbmstaW5wdXQnXSlcclxuICAudGhlbihpbnB1dHNWYWx1ZSA9PiB7XHJcbiAgICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZChpbnB1dHNWYWx1ZSlcclxuICAgIGNhcmRMaXN0LnNldEl0ZW0obmV3Q2FyZClcclxuICAgIHBvcHVwQWRkQ2FyZC5jbG9zZSgpXHJcblxyXG4gIH0pXHJcbiAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgcG9wdXBBZGRDYXJkLnJlbmRlckxvYWRpbmcoZmFsc2UpXHJcbiAgfSlcclxufSlcclxucG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKClcclxuXHJcbmNvbnN0IHBvcHVwRWRpdEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwQXZhdGFyU2VsZWN0b3IsICgpID0+IHtcclxuICBwb3B1cEVkaXRBdmF0YXIucmVuZGVyTG9hZGluZyh0cnVlKVxyXG4gIFxyXG4gIGFwaS5lZGl0VXNlckF2YXRhcihwcm9maWxlQXZhdGFySW5wdXQudmFsdWUpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcylcclxuICAgICAgcG9wdXBFZGl0QXZhdGFyLmNsb3NlKClcclxuICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+e1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBwb3B1cEVkaXRBdmF0YXIucmVuZGVyTG9hZGluZyhmYWxzZSlcclxuICB9KVxyXG59KVxyXG5wb3B1cEVkaXRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKVxyXG5cclxuY29uc3QgcG9wdXBEZWxldGVDb25maXJtID0gbmV3IFBvcHVwV2l0aENvbmZpcm0oZGVsZXRlUG9wdXBTZWxlY3RvciwgKGV2dCwgY2FyZCkgPT4ge1xyXG4gIGRlbGV0ZUNvbmZpcm0oZXZ0LCBjYXJkKVxyXG59KVxyXG5wb3B1cERlbGV0ZUNvbmZpcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKVxyXG5cclxuY29uc3QgcHJvZmlsZVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudFByb2ZpbGUpXHJcbmNvbnN0IGNhcmRWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybUVsZW1lbnRDYXJkKVxyXG5jb25zdCBhdmF0YXJWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybUF2YXRhcilcclxuXHJcbnByb2ZpbGVWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKVxyXG5jYXJkVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKClcclxuYXZhdGFyVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKClcclxuXHJcblxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XHJcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKGl0ZW0sIGNhcmRTZWxlY3Rvciwge1xyXG4gICAgaGFuZGxlQ2FyZENsaWNrOiAobGluaywgdGl0bGUpID0+IHtcclxuICAgICAgcG9wdXBXaXRoSW1hZ2Uub3BlbihsaW5rLCB0aXRsZSlcclxuICAgIH0sIGxpa2VDYXJkQ2xpY2s6ICgpID0+IHtcclxuICAgICAgY29uc3QgbGlrZWRDYXJkID0gbmV3Q2FyZC5saWtlZENhcmQoKTtcclxuICAgICAgY29uc3QgcmVzdWx0QXBpID0gbGlrZWRDYXJkID8gYXBpLmRpc2xpa2VDYXJkKG5ld0NhcmQuZ2V0SWRDYXJkKCkpIDogYXBpLmxpa2VDYXJkKG5ld0NhcmQuZ2V0SWRDYXJkKCkpO1xyXG4gICAgICByZXN1bHRBcGkudGhlbihkYXRhID0+IHtcclxuICAgICAgICBuZXdDYXJkLnNldExpa2VzKGRhdGEubGlrZXMpO1xyXG4gICAgICAgIG5ld0NhcmQucmVuZGVyTGlrZXMoKVxyXG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICB9KVxyXG4gICAgfSwgaGFuZGxlQ2FyZERlbGV0ZTogKCkgPT4ge1xyXG4gICAgICBwb3B1cERlbGV0ZUNvbmZpcm0ub3BlbihuZXdDYXJkKVxyXG4gICAgfVxyXG4gIH0sIHVzZXJJZCwgaXRlbS5faWQpXHJcbiAgY29uc3QgbmV3VXNlckNhcmQgPSBuZXdDYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBuZXdVc2VyQ2FyZDtcclxufVxyXG5cclxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XHJcbiAgcmVuZGVyZXI6IChjYXJkSXRlbSkgPT4ge1xyXG4gICAgY29uc3QgbmV3Q2FyZD0gY3JlYXRlQ2FyZChjYXJkSXRlbSlcclxuICAgIGNhcmRMaXN0LnNldEl0ZW0obmV3Q2FyZClcclxuICB9XHJcbn0sIGNsYXNzU2VjdGlvblNlbGVjdG9yKVxyXG5cclxuYWRkUG9wdXBCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKVxyXG4gIGNhcmRWYWxpZGF0aW9uLmRpc2FibGVkQnV0dG9uKGNhcmRCdXR0b25TYXZlKVxyXG4gIGNhcmRWYWxpZGF0aW9uLmNsZWFySW5wdXRFcnJvcihjYXJkQnV0dG9uU2F2ZSlcclxufSlcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVTZWxlY3RvcilcclxuZWRpdFBvcHVwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHBvcHVwRWRpdFByb2ZpbGUub3BlbigpO1xyXG4gIGNvbnN0IGN1cnJlbnRJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKVxyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRJbmZvLm5hbWVcclxuICBqb2JJbnB1dC52YWx1ZSA9IGN1cnJlbnRJbmZvLmFib3V0XHJcbiAgcHJvZmlsZVZhbGlkYXRpb24uY2xlYXJJbnB1dEVycm9yKGNhcmRCdXR0b25TYXZlKVxyXG59KVxyXG5cclxuXHJcbnVwZGF0ZUF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cEVkaXRBdmF0YXIub3BlbigpXHJcbiAgYXZhdGFyVmFsaWRhdGlvbi5jbGVhcklucHV0RXJyb3IoYXZhdGFyQnV0dG9uU2F2ZSlcclxuICBhdmF0YXJWYWxpZGF0aW9uLmRpc2FibGVkQnV0dG9uKGF2YXRhckJ1dHRvblNhdmUpXHJcbn0pXHJcblxyXG5jb25zdCBkZWxldGVDb25maXJtID0gKGV2dCwgbmV3Q2FyZCkgPT4ge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGFwaS5yZW1vdmVDYXJkKG5ld0NhcmQuZ2V0SWRDYXJkKCkpXHJcbiAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICBuZXdDYXJkLnJlbW92ZUNhcmQoKVxyXG4gICAgICBwb3B1cERlbGV0ZUNvbmZpcm0uY2xvc2UoKVxyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==